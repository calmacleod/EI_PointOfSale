@import "tailwindcss";

/* ── Theme: Refined POS ──────────────────────────────────────────── */
/* Subtle rounding, soft hover states, clean typography hierarchy.    */
/* Compact and professional — feels like a polished native app.       */

:root,
[data-theme="light"] {
  --color-page: #f0f0f0;       /* light panel bg — like a Win/macOS window */
  --color-surface: #ffffff;
  --color-surface-alt: #f7f7f7; /* alternate row / toolbar strip */
  --color-border: #c8c8c8;     /* stronger border for native crispness */
  --color-text: #1a1a1a;
  --color-text-muted: #6b6b6b;
  --color-accent: #0d9488;
  --color-accent-hover: #0f766e;
  --color-success-bg: #ecfdf5;
  --color-success-border: #6ee7b7;
  --color-success-text: #065f46;
  --color-error-bg: #fef2f2;
  --color-error-border: #fca5a5;
  --color-error-text: #991b1b;
  --color-warning-bg: #fffbeb;
  --color-warning-border: #fcd34d;
  --color-warning-text: #92400e;
  --color-info-bg: #eff6ff;
  --color-info-border: #93c5fd;
  --color-info-text: #1e40af;
  --color-neutral-bg: #f3f4f6;
  --color-neutral-border: #d1d5db;
  --color-neutral-text: #374151;
  --color-inset-shadow: inset 0 1px 2px rgba(0,0,0,0.07);
}

[data-theme="dark"] {
  --color-page: #1e1e1e;
  --color-surface: #2a2a2a;
  --color-surface-alt: #252525;
  --color-border: #444444;
  --color-text: #e8e8e8;
  --color-text-muted: #999999;
  --color-accent: #2dd4bf;
  --color-accent-hover: #5eead4;
  --color-success-bg: #064e3b;
  --color-success-border: #047857;
  --color-success-text: #a7f3d0;
  --color-error-bg: #7f1d1d;
  --color-error-border: #b91c1c;
  --color-error-text: #fecaca;
  --color-warning-bg: #78350f;
  --color-warning-border: #b45309;
  --color-warning-text: #fde68a;
  --color-info-bg: #1e3a5f;
  --color-info-border: #2563eb;
  --color-info-text: #bfdbfe;
  --color-neutral-bg: #374151;
  --color-neutral-border: #4b5563;
  --color-neutral-text: #d1d5db;
  --color-inset-shadow: inset 0 1px 2px rgba(0,0,0,0.25);
}

[data-theme="dim"] {
  --color-page: #2a2a2a;
  --color-surface: #363636;
  --color-surface-alt: #303030;
  --color-border: #505050;
  --color-text: #dcdcdc;
  --color-text-muted: #999999;
  --color-accent: #2dd4bf;
  --color-accent-hover: #5eead4;
  --color-success-bg: #064e3b;
  --color-success-border: #047857;
  --color-success-text: #a7f3d0;
  --color-error-bg: #7f1d1d;
  --color-error-border: #b91c1c;
  --color-error-text: #fecaca;
  --color-warning-bg: #78350f;
  --color-warning-border: #b45309;
  --color-warning-text: #fde68a;
  --color-info-bg: #1e3a5f;
  --color-info-border: #2563eb;
  --color-info-text: #bfdbfe;
  --color-neutral-bg: #374151;
  --color-neutral-border: #4b5563;
  --color-neutral-text: #d1d5db;
  --color-inset-shadow: inset 0 1px 2px rgba(0,0,0,0.20);
}

/* Inter — clean, modern UI typeface designed for screens */
html {
  font-size: 16px;
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
}

[data-font-size="large"]  { font-size: 18px; }
[data-font-size="xlarge"] { font-size: 20px; }

/* Semantic utility classes */
@layer components {
  .bg-page { background-color: var(--color-page); }
  .bg-surface { background-color: var(--color-surface); }
  .bg-surface-alt { background-color: var(--color-surface-alt); }
  .text-body { color: var(--color-text); }
  .text-muted { color: var(--color-text-muted); }
  .border-theme { border-color: var(--color-border); }
  .bg-accent { background-color: var(--color-accent); }
  .hover\:bg-accent:hover { background-color: var(--color-accent-hover); }
  .text-accent { color: var(--color-accent); }
  .hover\:text-accent:hover { color: var(--color-accent); }

  /* Status chips — themed, readable across light/dark/dim */
  .status-chip {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.125rem 0.5rem;
    font-size: 0.6875rem;
    font-weight: 600;
    line-height: 1.25rem;
    border: 1px solid;
    border-radius: 9999px;
  }
  .status-chip-success {
    background-color: var(--color-success-bg);
    border-color: var(--color-success-border);
    color: var(--color-success-text);
  }
  .status-chip-error {
    background-color: var(--color-error-bg);
    border-color: var(--color-error-border);
    color: var(--color-error-text);
  }
  .status-chip-warning {
    background-color: var(--color-warning-bg);
    border-color: var(--color-warning-border);
    color: var(--color-warning-text);
  }
  .status-chip-info {
    background-color: var(--color-info-bg);
    border-color: var(--color-info-border);
    color: var(--color-info-text);
  }
  .status-chip-neutral {
    background-color: var(--color-neutral-bg);
    border-color: var(--color-neutral-border);
    color: var(--color-neutral-text);
  }
}

/* ── Form inputs — subtle inset, rounded ─────────────────────────── */
.input-field {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 0.375rem;
  color: var(--color-text);
  padding: 0.3125rem 0.5rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  box-shadow: var(--color-inset-shadow);
}
.input-field::placeholder { color: var(--color-text-muted); }
.input-field:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: var(--color-inset-shadow), 0 0 0 1px var(--color-accent);
}

.input-field-compact {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 0.375rem;
  color: var(--color-text);
  font-size: 0.8125rem;
  box-shadow: var(--color-inset-shadow);
}
.input-field-compact::placeholder { color: var(--color-text-muted); }
.input-field-compact:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: var(--color-inset-shadow), 0 0 0 1px var(--color-accent);
}

/* Form cards — subtle rounding */
.form-card { border-radius: 0.5rem; }

/* ── Buttons — minimal transitions ────────────────────────────────── */
/* Allow subtle color transitions on interactive elements */

/* Confirm modal — no scale animation, just appear */
.confirm-modal-overlay > div:first-of-type { transition: none; }
.confirm-modal-overlay .form-card { animation: none; }

/* Logo easter egg (keep the fun) */
.logo-easter-egg-logo { position: relative; }
.logo-easter-egg-logo.logo-easter-egg-active {
  animation: logo-chainsaw-spin 0.5s linear infinite;
}
.logo-easter-egg-logo.logo-easter-egg-active::before {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: 10px;
  background: repeating-conic-gradient(
    from 0deg at 50% 50%,
    var(--color-accent) 0deg 8deg,
    var(--color-border) 8deg 20deg
  );
  -webkit-mask: radial-gradient(circle at 50% 50%, transparent 42%, black 42% 58%, transparent 58%);
  mask: radial-gradient(circle at 50% 50%, transparent 42%, black 42% 58%, transparent 58%);
  animation: logo-chainsaw-chain 0.25s linear infinite;
  pointer-events: none;
}
@keyframes logo-chainsaw-spin {
  from { transform: rotate(0deg); } to { transform: rotate(360deg); }
}
@keyframes logo-chainsaw-chain {
  from { transform: rotate(0deg); } to { transform: rotate(-360deg); }
}

/* ── Sidebar — themed navigation panel ───────────────────────────── */
/* Uses the same refined layout (rounded items, section headers,     */
/* subtle active states) but respects the user's chosen theme.       */

:root,
[data-theme="light"] {
  --sidebar-bg: #f5f5f7;
  --sidebar-border: #dcdce0;
  --sidebar-text: #555566;
  --sidebar-text-muted: #8e8e9a;
  --sidebar-text-bright: #1a1a2e;
  --sidebar-hover: rgba(0, 0, 0, 0.04);
  --sidebar-active: rgba(0, 0, 0, 0.07);
  --sidebar-accent: var(--color-accent);
}
[data-theme="dark"] {
  --sidebar-bg: #1a1a22;
  --sidebar-border: rgba(255, 255, 255, 0.07);
  --sidebar-text: #9090a8;
  --sidebar-text-muted: #5a5a70;
  --sidebar-text-bright: #e0e0e8;
  --sidebar-hover: rgba(255, 255, 255, 0.05);
  --sidebar-active: rgba(255, 255, 255, 0.08);
  --sidebar-accent: var(--color-accent);
}
[data-theme="dim"] {
  --sidebar-bg: #202028;
  --sidebar-border: rgba(255, 255, 255, 0.07);
  --sidebar-text: #9898b0;
  --sidebar-text-muted: #606078;
  --sidebar-text-bright: #e4e4ec;
  --sidebar-hover: rgba(255, 255, 255, 0.055);
  --sidebar-active: rgba(255, 255, 255, 0.09);
  --sidebar-accent: var(--color-accent);
}

.sidebar-chrome {
  background-color: var(--sidebar-bg);
  border-right: 1px solid var(--sidebar-border);
  border-bottom: none;
}
@media (max-width: 1023px) {
  .sidebar-chrome { border-right: none; }
}

.sidebar-nav {
  overscroll-behavior: contain;
  min-width: 0;
}
.nav-link { min-width: 0; }

/* Section labels hide cleanly in mini mode */
.sidebar-section-label { min-width: 0; }

/* Sidebar: mini mode on desktop */
@media (min-width: 1024px) {
  .sidebar-mini { width: 3.5rem; min-width: 3.5rem; }
  .sidebar-mini > div > div:first-child {
    padding-left: 0.5rem; padding-right: 0.5rem;
  }
  .sidebar-mini .sidebar-text {
    overflow: hidden; width: 0; min-width: 0;
    opacity: 0; visibility: hidden; padding: 0; margin: 0; transition: none;
  }
  .sidebar-mini .sidebar-section-label { display: none; }
  .sidebar-mini.sidebar-mini-hide-text .sidebar-brand .sidebar-text { display: none; }
  .sidebar-mini.sidebar-mini-hide-text .nav-link .sidebar-text { display: none; }
  .sidebar-mini.sidebar-mini-hide-text .sidebar-bottom .sidebar-text { display: none; }
  .sidebar-mini .sidebar-brand { flex: 1; }
  .sidebar-mini.sidebar-mini-hide-text .nav-link {
    padding-left: 0.5rem; padding-right: 0.5rem;
  }
  .sidebar-mini:not(.sidebar-mini-hide-text) .sidebar-brand .sidebar-text {
    width: auto; min-width: 0; flex: 1; overflow: hidden;
    opacity: 1; visibility: visible; padding: 0; margin: 0;
  }
  .sidebar-mini:not(.sidebar-mini-hide-text) .nav-link .sidebar-text {
    width: auto; min-width: 0; overflow: hidden;
    opacity: 1; visibility: visible; padding: 0; margin: 0;
  }
  .sidebar-mini:not(.sidebar-mini-hide-text) .sidebar-bottom .sidebar-text {
    width: auto; min-width: 0; overflow: hidden;
    opacity: 1; visibility: visible; padding: 0; margin: 0;
  }
  .sidebar-mini .expand-icon { display: block !important; }
  .sidebar-mini .collapse-icon { display: none !important; }
}

/* ── Scroll shadows — indicate overflowing content ───────────────── */
[data-controller="scroll-shadow"] {
  position: relative;
}
[data-controller="scroll-shadow"]::before,
[data-controller="scroll-shadow"]::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  width: 16px;
  pointer-events: none;
  z-index: 10;
  opacity: 0;
  transition: opacity 0.2s ease;
}
[data-controller="scroll-shadow"]::before {
  left: 0;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.1), transparent);
}
[data-controller="scroll-shadow"]::after {
  right: 0;
  background: linear-gradient(to left, rgba(0, 0, 0, 0.1), transparent);
}
[data-controller="scroll-shadow"].shadow-scroll-left::before { opacity: 1; }
[data-controller="scroll-shadow"].shadow-scroll-right::after { opacity: 1; }

[data-theme="dark"] [data-controller="scroll-shadow"]::before {
  background: linear-gradient(to right, rgba(0, 0, 0, 0.3), transparent);
}
[data-theme="dark"] [data-controller="scroll-shadow"]::after {
  background: linear-gradient(to left, rgba(0, 0, 0, 0.3), transparent);
}
[data-theme="dim"] [data-controller="scroll-shadow"]::before {
  background: linear-gradient(to right, rgba(0, 0, 0, 0.25), transparent);
}
[data-theme="dim"] [data-controller="scroll-shadow"]::after {
  background: linear-gradient(to left, rgba(0, 0, 0, 0.25), transparent);
}

/* ── Table rows — subtle zebra stripe + hover ────────────────────── */
tbody tr:nth-child(even) {
  background-color: var(--color-surface-alt);
}
tbody tr:hover {
  background-color: rgba(0, 0, 0, 0.03);
}
[data-theme="dark"] tbody tr:hover,
[data-theme="dim"] tbody tr:hover {
  background-color: rgba(255, 255, 255, 0.04);
}

/* ── Pagination — rounded, spaced ────────────────────────────────── */
.pagy-nav .pagy {
  --spacing: 0.25rem;
  --padding: 0.375rem;
  --rounding: 0.25rem;
  --border-width: 1px;
  --text: var(--color-text);
  --text-hover: var(--color-text);
  --text-current: var(--color-page);
  --background: var(--color-surface);
  --background-hover: var(--color-border);
  --background-current: var(--color-accent);
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--spacing);
  font-size: 0.8125rem;
  font-weight: 500;
}
.pagy-nav .pagy a:not([role="separator"]) {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 1.75rem;
  min-width: 1.75rem;
  padding: 0 0.375rem;
  text-decoration: none;
  background-color: var(--background);
  border: var(--border-width) solid var(--color-border);
  border-radius: var(--rounding);
  color: var(--text);
}
.pagy-nav .pagy a[href]:hover {
  background-color: var(--background-hover);
  color: var(--text-hover);
  position: relative;
  z-index: 1;
}
.pagy-nav .pagy a:not([href]) {
  cursor: default;
  opacity: 0.5;
}
.pagy-nav .pagy a[aria-current] {
  background-color: var(--background-current);
  color: var(--text-current);
  border-color: var(--color-accent);
  position: relative;
  z-index: 1;
}
/* Per-page select */
.pagy-limit-selector select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b6b6b' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.5rem center;
  padding-right: 1.75rem;
}
