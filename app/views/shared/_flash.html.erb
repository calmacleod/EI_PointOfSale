<% if flash.any? %>
  <div data-controller="flash" data-flash-duration-value="5" class="mb-1.5 space-y-1">
    <% flash.each do |type, message| %>
      <% next if message.blank? %>

      <% css_vars =
        case type.to_s
        when "notice"
          "border-[var(--color-success-border)] bg-[var(--color-success-bg)] text-[var(--color-success-text)]"
        when "alert", "error"
          "border-[var(--color-error-border)] bg-[var(--color-error-bg)] text-[var(--color-error-text)]"
        else
          "border-theme bg-surface text-body"
        end
      %>

      <div class="rounded-md border px-2.5 py-1.5 text-sm <%= css_vars %>">
        <div class="flex flex-wrap items-center justify-between gap-2">
          <span><%= message %></span>
          <div class="shrink-0" role="img" aria-label="Dismissing in 5 seconds">
            <svg viewBox="0 0 24 24" class="h-4 w-4 -rotate-90" stroke="currentColor" stroke-width="2" fill="none">
              <circle data-flash-target="circle" cx="12" cy="12" r="9" stroke-linecap="round" />
            </svg>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
